import{d as b,r,a4 as w,c as x,h as p,b as o,v as i,i as s,j as v,F as g,k as h,o as k}from"./index-CcFo5enO.js";const _=["disabled"],B=b({__name:"Register",setup(U){var u=r(null),d=r("");w(()=>{u.value.addEventListener("change",async f=>{var a=u.value.files[0];if(a){var e=new FormData;e.append("avatar",a);var c=await fetch("/upload",{method:"post",body:e}).then(y=>y.json());d.value=c[0]}})});var t=r(""),l=r(""),n=r("");function m(){h.post("/account/register",{name:t.value,password:l.value,avatar:d.value,email:"test@qq.com"})}return(f,a)=>(k(),x(g,null,[p(o("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>v(t)?t.value=e:t=e),placeholder:"用户名"},null,512),[[i,s(t)]]),p(o("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>v(l)?l.value=e:l=e),placeholder:"密码"},null,512),[[i,s(l)]]),p(o("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>v(n)?n.value=e:n=e),placeholder:"邮箱"},null,512),[[i,s(n)]]),o("input",{type:"file",ref_key:"avatar",ref:u},null,512),o("button",{onClick:m,type:"button",disabled:!s(d)},"注册",8,_)],64))}});export{B as default};
